<div class="container section">
  <div class="row" *ngIf="news">
    <!-- Main Content -->
    <div class="col-lg-8 mb-4">
      <article class="news-article">
        <!-- Article Header -->
        <header class="article-header mb-4">
          <div class="mb-3">
            <span class="badge" [ngClass]="getCategoryBadgeClass(news.category)">
              {{ news.category }}
            </span>
          </div>
          <h1 class="article-title text-brown">{{ news.title }}</h1>
          <div class="article-meta text-muted">
            <span class="me-3">
              <i class="fas fa-calendar-alt"></i>
              {{ news.publishDate | date: 'yyyy/MM/dd' }}
            </span>
            <span class="me-3">
              <i class="fas fa-user"></i>
              {{ news.author }}
            </span>
            <span *ngIf="news.views" class="me-3">
              <i class="fas fa-eye"></i>
              {{ news.views }} مشاهدة
            </span>
          </div>
        </header>

        <!-- Article Image -->
        <div class="article-image mb-4" *ngIf="news.imageUrl">
          <img [src]="news.imageUrl" [alt]="news.title" class="img-fluid rounded">
        </div>

        <!-- Article Content -->
        <div class="article-content">
          <div class="content-body">
            {{ news.content }}
          </div>
          
          <!-- Tags -->
          <div class="article-tags mt-4" *ngIf="news.tags && news.tags.length > 0">
            <strong class="me-2">الكلمات المفتاحية:</strong>
            <span class="badge bg-light text-dark me-1" *ngFor="let tag of news.tags">
              {{ tag }}
            </span>
          </div>

          <!-- Last Modified -->
          <div class="article-footer mt-4 pt-3 border-top text-muted small">
            <i class="fas fa-edit"></i>
            آخر تحديث: {{ news.lastModified | date: 'yyyy/MM/dd HH:mm' }}
          </div>
        </div>
      </article>
    </div>

    <!-- Sidebar -->
    <div class="col-lg-4">
      <aside class="news-sidebar">
        <!-- Navigation Links -->
        <div class="sidebar-section mb-4">
          <h5 class="sidebar-title">تصفح الأخبار</h5>
          <div class="list-group">
            <button 
              class="list-group-item list-group-item-action"
              (click)="goToNewsList()"
            >
              <i class="fas fa-arrow-right me-2"></i>
              العودة لقائمة الأخبار
            </button>
            
            <button 
              class="list-group-item list-group-item-action"
              *ngIf="previousNews"
              (click)="goToNewsDetails(previousNews.id)"
            >
              <i class="fas fa-chevron-right me-2"></i>
              الخبر السابق
            </button>
            
            <button 
              class="list-group-item list-group-item-action"
              *ngIf="nextNews"
              (click)="goToNewsDetails(nextNews.id)"
            >
              <i class="fas fa-chevron-left me-2"></i>
              الخبر التالي
            </button>
          </div>
        </div>

        <!-- Related News -->
        <div class="sidebar-section" *ngIf="relatedNews.length > 0">
          <h5 class="sidebar-title">أخبار ذات صلة</h5>
          <div class="related-news">
            <div 
              class="related-news-item"
              *ngFor="let relatedItem of relatedNews"
              (click)="goToNewsDetails(relatedItem.id)"
            >
              <div class="row g-2">
                <div class="col-4" *ngIf="relatedItem.imageUrl">
                  <img [src]="relatedItem.imageUrl" [alt]="relatedItem.title" class="img-fluid rounded">
                </div>
                <div [class]="relatedItem.imageUrl ? 'col-8' : 'col-12'">
                  <h6 class="related-title">{{ relatedItem.title }}</h6>
                  <small class="text-muted">{{ relatedItem.publishDate | date: 'yyyy/MM/dd' }}</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="!news" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">جاري التحميل...</span>
    </div>
    <p class="mt-3 text-muted">جاري تحميل الخبر...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="newsNotFound" class="text-center py-5">
    <div class="text-muted">
      <i class="fas fa-exclamation-triangle fa-3x mb-3 text-warning"></i>
      <h4>الخبر غير موجود</h4>
      <p>عذراً، لم يتم العثور على الخبر المطلوب.</p>
      <button class="btn btn-medicine" (click)="goToNewsList()">
        العودة لقائمة الأخبار
      </button>
    </div>
  </div>
</div>