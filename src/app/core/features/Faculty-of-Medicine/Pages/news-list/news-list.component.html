<div class="container section">
  <!-- Page Header -->
  <div class="text-center mb-5">
    <h1 class="text-brown">أخبار كلية الطب</h1>
    <p class="text-muted">تابع آخر الأخبار والفعاليات والمؤتمرات في كلية الطب جامعة الأقصر</p>
  </div>

  <!-- Filter Tabs -->
  <div class="medicine-tabs">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button 
          class="nav-link" 
          [class.active]="activeFilter === 'all'"
          (click)="filterNews('all')"
          type="button"
        >
          جميع الأخبار
        </button>
      </li>
      <li class="nav-item">
        <button 
          class="nav-link" 
          [class.active]="activeFilter === 'news'"
          (click)="filterNews('news')"
          type="button"
        >
          أخبار
        </button>
      </li>
      <li class="nav-item">
        <button 
          class="nav-link" 
          [class.active]="activeFilter === 'conferences'"
          (click)="filterNews('conferences')"
          type="button"
        >
          مؤتمرات
        </button>
      </li>
      <li class="nav-item">
        <button 
          class="nav-link" 
          [class.active]="activeFilter === 'events'"
          (click)="filterNews('events')"
          type="button"
        >
          فعاليات
        </button>
      </li>
    </ul>
  </div>

  <!-- News Grid -->
  <div class="row mb-5">
    <div class="col-lg-4 col-md-6 mb-4" *ngFor="let newsItem of paginatedNews">
      <div class="news-card" (click)="goToNewsDetails(newsItem.id)">
        <div class="news-card-image" *ngIf="newsItem.imageUrl">
          <img [src]="newsItem.imageUrl" [alt]="newsItem.title" class="img-fluid">
        </div>
        <div class="news-card-body">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <div class="news-card-date">{{ newsItem.publishDate | date: 'yyyy/MM/dd' }}</div>
            <span class="badge" [ngClass]="getCategoryBadgeClass(newsItem.category)">
              {{ newsItem.category }}
            </span>
          </div>
          <h5 class="news-card-title">{{ newsItem.title }}</h5>
          <p class="news-card-excerpt">{{ newsItem.excerpt }}</p>
          <div class="d-flex justify-content-between align-items-center">
            <button class="btn btn-medicine btn-sm">اقرأ المزيد</button>
            <small class="text-muted" *ngIf="newsItem.views">
              <i class="fas fa-eye"></i> {{ newsItem.views }} مشاهدة
            </small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- No Results Message -->
  <div *ngIf="paginatedNews.length === 0" class="text-center py-5">
    <div class="text-muted">
      <i class="fas fa-newspaper fa-3x mb-3"></i>
      <h4>لا توجد أخبار</h4>
      <p>لم يتم العثور على أخبار في هذه الفئة حالياً.</p>
    </div>
  </div>

  <!-- Pagination -->
  <nav aria-label="تصفح الأخبار" *ngIf="totalPages > 1">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">
          <i class="fas fa-chevron-right"></i>
        </button>
      </li>
      
      <li 
        class="page-item" 
        *ngFor="let page of getPageNumbers()" 
        [class.active]="page === currentPage"
      >
        <button class="page-link" (click)="changePage(page)">{{ page }}</button>
      </li>
      
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">
          <i class="fas fa-chevron-left"></i>
        </button>
      </li>
    </ul>
  </nav>
</div>