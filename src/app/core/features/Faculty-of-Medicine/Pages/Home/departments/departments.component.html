<div class="departments-section" *ngIf="departments?.length">
  <!-- Section Title -->
  <div class="section-title">
    <h2>{{ sectionTitle }}</h2>
  </div>

  <!-- Academic Departments -->
  <div *ngIf="academicDepartments?.length">
    <h3 class="dept-subtitle academic">الأقسام الأكاديمية</h3>
    <div class="departments-grid">
      <div class="department-card" 
           *ngFor="let department of academicDepartments; trackBy: trackByFn" 
           (click)="onDepartmentClick(department)">
        <div class="card-icon">
          <img
            [src]="department.departmentAttachments?.[0]?.url"
            [alt]="department.subTitle"
            class="icon-image"
          >
        </div>
        <div class="card-content">
          <h4 class="card-title">{{ department.name }}</h4>
        </div>
      </div>
    </div>
  </div>

  <!-- Clinical Departments -->
  <div *ngIf="clinicalDepartments?.length">
    <h3 class="dept-subtitle clinical">الأقسام الإكلينيكية</h3>
    <div class="departments-grid">
      <div class="department-card" 
           *ngFor="let department of clinicalDepartments; trackBy: trackByFn" 
           (click)="onDepartmentClick(department)">
        <div class="card-icon">
          <img
            [src]="department.departmentAttachments?.[0]?.url"
            [alt]="department.subTitle"
            class="icon-image"
          >
        </div>
        <div class="card-content">
          <h4 class="card-title">{{ department.name }}</h4>
        </div>
      </div>
    </div>
  </div>
</div>
